(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(9),o=a.n(r),l=(a(96),a(32)),c=a(57),m=a(12),s=a(77),u=a(163),E=a(165),d=a(158),f=a(146),p=(a(97),a(141)),g=a(143),h=a(164),b=a(73),v=a.n(b),j=a(148),y=Object(p.a)((function(e){return{root:{padding:"2px 4px",display:"flex"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},fontSize:{fontSize:38}}}));function O(e){var t=e.value,a=e.onChange,n=y();return i.a.createElement(g.a,{fullWidth:!0,className:n.root},i.a.createElement(h.a,{color:"primary",placeholder:"Search Movies",type:"text",value:t,onChange:a,InputProps:{startAdornment:i.a.createElement(j.a,{position:"start"},i.a.createElement(v.a,{fontSize:"large"})),classes:{input:n.fontSize}}}))}var N=a(29),S=a(157),w=a(149),k=a(168),C=a(151);function x(e){var t=e.isFiveNominations,a=i.a.useState(!1),r=Object(m.a)(a,2),o=r[0],l=r[1];return Object(n.useEffect)((function(){l(!!t)}),[t]),i.a.createElement(E.a,null,i.a.createElement(w.a,{in:o},i.a.createElement(k.a,{severity:"info",variant:"filled"},i.a.createElement(C.a,null,i.a.createElement(N.a,{align:"left"},i.a.createElement("strong",null,"All done!"))),i.a.createElement(N.a,{align:"left"},"You have selected 5 movies."))))}var I=a(152),D=a(169);function F(e){var t=e.isNominationSubmit,a=e.onClose;var n=function(e,t){"clickaway"!==t&&a()};return i.a.createElement(E.a,null,i.a.createElement(D.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:6e3,TransitionComponent:function(e){return i.a.createElement(I.a,Object.assign({},e,{direction:"down"}))},onClose:n},i.a.createElement(k.a,{severity:"success",variant:"filled",onClose:n},i.a.createElement(C.a,null,i.a.createElement(N.a,{align:"left"},i.a.createElement("strong",null,"Submission Success!"))),i.a.createElement(N.a,{align:"left"},"Your nominations have been submited."))))}var A=a(147),P=a(153),R=a(154),T=a(171),W=a(155),z=a(156),B=a(150),J=a(56),M=a.n(J),Y=a(74),H=a.n(Y);function K(e){var t=e.nominations,a=e.removeNomination;return i.a.createElement(E.a,null,i.a.createElement(A.a,{dense:!0},Object.values(t).map((function(e){return i.a.createElement(P.a,{key:e.imdbID},i.a.createElement(R.a,null,i.a.createElement(T.a,null,"N/A"===e.Poster?i.a.createElement(M.a,null):i.a.createElement("img",{src:e.Poster,alt:"movie poster",width:"100%"}))),i.a.createElement(W.a,{primary:e.Title,secondary:e.Year}),i.a.createElement(z.a,null,i.a.createElement(B.a,{edge:"end","aria-label":"remove",onClick:function(){return a(e.imdbID)}},i.a.createElement(H.a,null))))}))))}function G(e){var t=e.nominations,a=e.removeNomination,r=e.isFiveNominations,o=e.handleResetNominations,l=Object(n.useState)(!1),c=Object(m.a)(l,2),s=c[0],u=c[1];return 0===Object.keys(t).length?i.a.createElement(E.a,null,i.a.createElement(F,{isNominationSubmit:s,onClose:function(){return u(!1)}}),i.a.createElement("img",{src:"/the-shoppies/award.png",alt:"Movie Award",width:"70%"}),i.a.createElement("h3",null,"No nominations yet! "),i.a.createElement(N.a,null,"Select 5 of your favorite movies to the list.")):i.a.createElement(E.a,null,i.a.createElement(x,{isFiveNominations:r}),i.a.createElement(K,{nominations:t,removeNomination:a}),r&&i.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(){u(!0),o()},"aria-label":"reset nominations"},"Submit"))}var L=a(166),U=a(58),$=Object(p.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",width:210,height:400},image:{width:200,height:280},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},details:{width:205,height:80},noimg:{background:"#ECECEC",width:200,height:280}}}));function _(e){var t=e.movieData,a=e.nominations,n=e.addNomination,r=e.isFiveNominations,o=$();return i.a.createElement(d.a,{container:!0,justify:"space-evenly",spacing:2},Object.values(t).map((function(e){var t=void 0!==a[e.imdbID];return i.a.createElement(d.a,{item:!0,key:e.imdbID},i.a.createElement(E.a,{className:o.box},i.a.createElement(d.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},i.a.createElement(d.a,{item:!0,className:o.image},"N/A"===e.Poster?i.a.createElement(d.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:o.noimg,spacing:1},i.a.createElement(d.a,{item:!0},i.a.createElement(M.a,{fontSize:"large",style:{color:U.a[500]}})),i.a.createElement(d.a,{item:!0},i.a.createElement(E.a,{fontWeight:"Bold",style:{color:U.a[500]}},"No Poster",i.a.createElement("br",null),"Available"))):i.a.createElement("img",{className:o.img,src:e.Poster,alt:"movie poster"})),i.a.createElement(d.a,{item:!0,xs:12,sm:!0,container:!0},i.a.createElement(d.a,{item:!0,container:!0,direction:"column"},i.a.createElement(d.a,{className:o.details,item:!0},i.a.createElement(N.a,{gutterBottom:!0,variant:"subtitle2"},i.a.createElement(E.a,{component:"span",fontWeight:"fontWeightBold"},e.Title.toUpperCase()),i.a.createElement("br",null),"(",e.Year,")")),i.a.createElement(d.a,{item:!0},i.a.createElement(S.a,{variant:"contained",onClick:function(){return n(e.imdbID)},disabled:t||r,color:"primary"},t?"Nominated!":"Nominate")))))))})))}var q=Object(p.a)((function(e){return{pagination:{display:"flex",justifyContent:"center"}}}));function Q(e){var t=e.searchKey,a=e.isError,n=(e.error,e.numResult),r=e.addNomination,o=e.movieData,l=e.nominations,c=e.page,m=e.handlePageChange,s=e.isFiveNominations,u=q();return t.length<3?i.a.createElement(E.a,null,i.a.createElement("h3",null,i.a.createElement("span",{role:"img","aria-label":"find"},"\ud83d\udd0d")," ","Find a movie in the search bar above!"),i.a.createElement("p",null,"The keyword needs to be longer than 2 characters")):!0===a?i.a.createElement(E.a,null,i.a.createElement("h3",null,i.a.createElement("span",{role:"img","aria-label":"film"},"\ud83c\udf9e\ufe0f"),"  ",'No match for "',t,'" (',0,")"),i.a.createElement("p",null,i.a.createElement("span",{role:"img","aria-label":"confused"},"\ud83d\ude35")," ","Check your spelling or try continue typing")):i.a.createElement(E.a,null,i.a.createElement("h3",null,i.a.createElement("span",{role:"img","aria-label":"film"},"\ud83c\udf9e\ufe0f")," ",'Results for "',t,'" (',n,")"),i.a.createElement("div",null,i.a.createElement(_,{movieData:o,nominations:l,addNomination:r,isFiveNominations:s})),i.a.createElement(L.a,{page:c,onChange:m,count:Math.ceil(n/10),className:u.pagination}))}a(75),a(170),a(162),a(160),a(161),a(159);var V=a(76),X=a.n(V),Z=Object(s.a)({palette:{type:"dark",primary:{main:"#f2c144"},secondary:{main:"#11cb5f"},background:{paper:"#15161A"}}});var ee=function(){var e=Object(n.useState)(""),t=Object(m.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)([]),s=Object(m.a)(o,2),p=s[0],g=s[1],h=Object(n.useState)(0),b=Object(m.a)(h,2),v=b[0],j=b[1],y=Object(n.useState)(1),N=Object(m.a)(y,2),S=N[0],w=N[1],k=Object(n.useState)(!0),C=Object(m.a)(k,2),x=C[0],I=C[1],D=Object(n.useState)(null),F=Object(m.a)(D,2),A=F[0],P=F[1],R=Object(n.useState)(JSON.parse(localStorage.getItem("nominations")||"{}")),T=Object(m.a)(R,2),W=T[0],z=T[1],B=Object(n.useState)(!1),J=Object(m.a)(B,2),M=J[0],Y=J[1],H=Object(n.useState)(localStorage.getItem("apikey")||"cbf06e88"),K=Object(m.a)(H,2),L=K[0],U=(K[1],function(e){z(e),localStorage.setItem("nominations",JSON.stringify(e))}),$=Object(n.useCallback)(X.a.debounce((function(e){return _(e)}),200),[]),_=function(e,t){var a="https://www.omdbapi.com/?apikey="+L+"&s="+e.trim()+"&page="+t+"&type=movie";e.length>2&&fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){if("True"===e.Response){j(e.totalResults);var t={};e.Search.forEach((function(e){t[e.imdbID]=e})),g(t),I(!1)}else P(e.Error),I(!0)}),(function(e){I(!0),P(e)}))};return Object(n.useEffect)((function(){_(a,S)}),[L]),Object(n.useEffect)((function(){5===Object.keys(W).length?Y(!0):Y(!1)}),[W]),i.a.createElement(u.a,{theme:Z},i.a.createElement(E.a,{className:"App",display:"flex",flexDirection:"column",justifyContent:"flex-start",p:3},i.a.createElement(E.a,{p:2,className:"Header"},i.a.createElement("img",{src:"/the-shoppies/shoppies_logo.png",alt:"The Shoppies",width:"70%"})),i.a.createElement(E.a,null,i.a.createElement(d.a,{container:!0,direction:"row-reverse",spacing:3},i.a.createElement(d.a,{item:!0,xs:12,sm:12,md:4},i.a.createElement(f.a,null,i.a.createElement(E.a,{p:2},i.a.createElement("h3",null,i.a.createElement("span",{role:"img","aria-label":"throphy"},"\ud83c\udfc6")," ","Nominee (",5-Object.keys(W).length," Remaining)"),i.a.createElement(G,{nominations:W,removeNomination:function(e){var t=Object(c.a)({},W);delete t[e],U(t)},isFiveNominations:M,handleResetNominations:function(){U({})}})))),i.a.createElement(d.a,{item:!0,xs:12,sm:12,md:8},i.a.createElement(f.a,null,i.a.createElement(E.a,{p:2},i.a.createElement(O,{onChange:function(e){r(e.target.value),$(e.target.value)},value:a}),i.a.createElement(Q,{searchKey:a,isError:x,error:A,numResult:v,addNomination:function(e){if(Object.keys(W).length<5){var t=p[e];U(Object(c.a)(Object(c.a)({},W),{},Object(l.a)({},e,t)))}},movieData:p,nominations:W,page:S,handlePageChange:function(e,t){w(t),_(a,t)},isFiveNominations:M}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},91:function(e,t,a){e.exports=a(104)},96:function(e,t,a){},97:function(e,t,a){}},[[91,1,2]]]);
//# sourceMappingURL=main.a76b23bb.chunk.js.map