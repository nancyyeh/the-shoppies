(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{87:function(e,a,t){e.exports=t(99)},92:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),i=t(9),o=t.n(i),l=(t(92),t(47)),c=t(55),m=t(23),s=t(75),u=t(149),E=t(131),d=t(151),h=t(148),p=t(136),g=t(67),f=t.n(g),b=t(133),v=t(150),y=t(72),j=t.n(y),N=t(138),O=Object(E.a)((function(e){return{root:{padding:"2px 4px",display:"flex"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10},fontSize:{fontSize:38}}}));function w(e){var a=e.value,t=e.onChange,n=O();return r.a.createElement(b.a,{fullWidth:!0,className:n.root},r.a.createElement(v.a,{color:"primary",placeholder:"Search Movies",type:"text",value:a,onChange:t,InputProps:{startAdornment:r.a.createElement(N.a,{position:"start"},r.a.createElement(j.a,{fontSize:"large"})),classes:{input:n.fontSize}}}))}var S=t(41),k=t(147),C=t(139),x=t(153),D=t(141);function I(e){var a=e.show;return r.a.createElement(d.a,null,r.a.createElement(C.a,{in:a},r.a.createElement(x.a,{severity:"info",variant:"filled"},r.a.createElement(D.a,null,r.a.createElement(S.a,{align:"left"},r.a.createElement("strong",null,"All done!"))),r.a.createElement(S.a,{align:"left"},"You have selected 5 movies."))))}var A=t(142),P=t(155);function z(e){var a=e.isNominationSubmit,t=e.onClose;var n=function(e,a){"clickaway"!==a&&t()};return r.a.createElement(d.a,null,r.a.createElement(P.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:a,autoHideDuration:6e3,TransitionComponent:function(e){return r.a.createElement(A.a,Object.assign({},e,{direction:"down"}))},onClose:n},r.a.createElement(x.a,{severity:"success",variant:"filled",onClose:n},r.a.createElement(D.a,null,r.a.createElement(S.a,{align:"left"},r.a.createElement("strong",null,"Submission Success!"))),r.a.createElement(S.a,{align:"left"},"Your nominations have been submitted."))))}var R=t(137),T=t(143),W=t(144),B=t(156),Y=t(145),J=t(146),M=t(140),H=t(37),K=t.n(H),U=t(73),_=t.n(U);function F(e){var a=e.nominations,t=e.removeNomination;return r.a.createElement(d.a,null,r.a.createElement(R.a,{dense:!0},Object.values(a).map((function(e){return r.a.createElement(T.a,{key:e.imdbID},r.a.createElement(W.a,null,r.a.createElement(B.a,null,"N/A"===e.Poster?r.a.createElement(K.a,null):r.a.createElement("img",{src:e.Poster,alt:"movie poster",width:"100%"}))),r.a.createElement(Y.a,{primary:e.Title,secondary:e.Year}),r.a.createElement(J.a,null,r.a.createElement(M.a,{edge:"end","aria-label":"remove",onClick:function(){return t(e.imdbID)}},r.a.createElement(_.a,null))))}))))}var G=Object(E.a)((function(e){return{img:{maxWidth:280}}}));function L(e){var a=e.nominations,t=e.removeNomination,i=e.handleResetNominations,o=e.clearSearch,l=G(),c=Object(n.useState)(!1),s=Object(m.a)(c,2),u=s[0],E=s[1],h=5===Object.keys(a).length;return 0===Object.keys(a).length?r.a.createElement(d.a,null,r.a.createElement(z,{isNominationSubmit:u,onClose:function(){return E(!1)}}),r.a.createElement("img",{src:"/the-shoppies/award.png",alt:"Movie Award",className:l.img,width:"70%"}),r.a.createElement("h3",null,"No nominations yet! "),r.a.createElement(S.a,null,"Add 5 of your favorite movies to the list.")):r.a.createElement(d.a,null,r.a.createElement(I,{show:h}),r.a.createElement(F,{nominations:a,removeNomination:t}),h&&r.a.createElement(k.a,{variant:"contained",color:"primary",onClick:function(){E(!0),i(),o()},"aria-label":"reset nominations"},"Submit"))}var $=t(154),q=t(152),Q=t(56),V=Object(E.a)((function(e){return{box:{padding:e.spacing(1),margin:"auto",width:210,height:400},image:{width:200,height:280},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},details:{width:205,height:80},noimg:{background:"#ECECEC",width:200,height:280}}}));function X(e){var a=e.movieData,t=e.nominations,n=e.addNomination,i=V(),o=Object.keys(t).length;return r.a.createElement(h.a,{container:!0,justify:"space-evenly",spacing:2},Object.values(a).map((function(e){var a=void 0!==t[e.imdbID];return r.a.createElement(h.a,{item:!0,key:e.imdbID},r.a.createElement(d.a,{className:i.box},r.a.createElement(h.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(h.a,{item:!0,className:i.image},"N/A"===e.Poster?r.a.createElement(h.a,{container:!0,direction:"column",justify:"center",alignItems:"center",className:i.noimg,spacing:1},r.a.createElement(h.a,{item:!0},r.a.createElement(K.a,{fontSize:"large",style:{color:Q.a[500]}})),r.a.createElement(h.a,{item:!0},r.a.createElement(d.a,{fontWeight:"Bold",style:{color:Q.a[500]}},"No Poster",r.a.createElement("br",null),"Available"))):r.a.createElement("img",{className:i.img,src:e.Poster,alt:"movie poster"})),r.a.createElement(h.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(h.a,{item:!0,container:!0,direction:"column"},r.a.createElement(h.a,{className:i.details,item:!0},r.a.createElement(S.a,{gutterBottom:!0,variant:"subtitle2"},r.a.createElement(d.a,{component:"span",fontWeight:"fontWeightBold"},e.Title.toUpperCase()),r.a.createElement("br",null),"(",e.Year,")")),r.a.createElement(h.a,{item:!0},r.a.createElement(k.a,{variant:"contained",onClick:function(){return n(e.imdbID)},disabled:a||5===o,color:"primary"},a?"Nominated!":"Nominate")))))))})))}function Z(e){var a=e.movieData,t=e.nominations,n=e.addNomination,i=Object.keys(t).length;return r.a.createElement(d.a,null,r.a.createElement(R.a,{dense:!0},Object.values(a).map((function(e){var a=void 0!==t[e.imdbID];return r.a.createElement(T.a,{key:e.imdbID},r.a.createElement(W.a,null,r.a.createElement(B.a,null,"N/A"===e.Poster?r.a.createElement(K.a,null):r.a.createElement("img",{src:e.Poster,alt:"movie poster",width:"100%"}))),r.a.createElement(Y.a,{primary:e.Title,secondary:e.Year}),r.a.createElement(J.a,null,r.a.createElement(k.a,{variant:"contained",onClick:function(){return n(e.imdbID)},disabled:a||5===i,color:"primary",size:"small",edge:"end"},a?"Nominated!":"Nominate")))}))))}var ee=Object(E.a)((function(e){return{pagination:{display:"flex",justifyContent:"center"}}}));function ae(e){var a=e.searchKey,t=e.isError,n=(e.error,e.numResult),i=e.addNomination,o=e.movieData,l=e.nominations,c=e.page,m=e.handlePageChange,s=ee();return a.length<3?r.a.createElement(d.a,null,r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"find"},"\ud83d\udd0d")," ","Find a movie in the search bar above!"),r.a.createElement("p",null,"The keyword needs to be longer than 2 characters")):t?r.a.createElement(d.a,null,r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"film"},"\ud83c\udf9e\ufe0f"),"  ",'No match for "',a,'" (',0,")"),r.a.createElement("p",null,r.a.createElement("span",{role:"img","aria-label":"confused"},"\ud83d\ude35")," ","Check your spelling or try continue typing")):r.a.createElement(d.a,null,r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"film"},"\ud83c\udf9e\ufe0f")," ",'Results for "',a,'" (',n,")"),r.a.createElement($.a,{xsDown:!0},r.a.createElement(X,{movieData:o,nominations:l,addNomination:i})),r.a.createElement($.a,{smUp:!0},r.a.createElement(Z,{movieData:o,nominations:l,addNomination:i})),r.a.createElement(q.a,{page:c,onChange:m,count:Math.ceil(n/10),className:s.pagination}))}var te=t(74),ne=t.n(te);function re(){return r.a.createElement(M.a,{color:"primary","aria-label":"view source code",href:"https://github.com/nancyyeh/the-shoppies",target:"_blank"},r.a.createElement(ne.a,null))}var ie=Object(E.a)((function(e){return{root:{backgroundColor:"#131316",height:"100vh",maxHeight:1},nominations:{position:"sticky",top:20},header:{color:"#f2c144",fontSize:96}}})),oe=Object(s.a)({palette:{type:"dark",primary:{main:"#f2c144"},secondary:{main:"#11cb5f"},background:{paper:"#15161A"}}});var le=function(){var e=Object(n.useState)(""),a=Object(m.a)(e,2),t=a[0],i=a[1],o=Object(n.useState)([]),s=Object(m.a)(o,2),E=s[0],g=s[1],b=Object(n.useState)(0),v=Object(m.a)(b,2),y=v[0],j=v[1],N=Object(n.useState)(1),O=Object(m.a)(N,2),S=O[0],k=O[1],C=Object(n.useState)(!0),x=Object(m.a)(C,2),D=x[0],I=x[1],A=Object(n.useState)(null),P=Object(m.a)(A,2),z=P[0],R=P[1],T=Object(n.useState)(JSON.parse(localStorage.getItem("nominations")||"{}")),W=Object(m.a)(T,2),B=W[0],Y=W[1],J=ie(),M=function(e){Y(e),localStorage.setItem("nominations",JSON.stringify(e))},H=Object(n.useCallback)(f.a.debounce((function(e){return K(e)}),200),[]),K=function(e,a){var t="https://www.omdbapi.com/?apikey=cbf06e88&s=".concat(e.trim(),"&page=").concat(a,"&type=movie");e.length>2&&fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){if("True"===e.Response){j(e.totalResults);var a={};e.Search.forEach((function(e){a[e.imdbID]=e})),g(a),I(!1)}else R(e.Error),I(!0)}),(function(e){I(!0),R(e)}))};return r.a.createElement(u.a,{theme:oe},r.a.createElement(d.a,{className:J.root,display:"flex",flexDirection:"column",justifyContent:"flex-start",textAlign:"center",p:3},r.a.createElement(d.a,{p:2,className:J.header},r.a.createElement("img",{src:"/the-shoppies/shoppies_logo.png",alt:"The Shoppies",width:"70%"})),r.a.createElement(d.a,{m:2,className:"API-settings",position:"absolute",top:18,right:18},r.a.createElement(re,null)),r.a.createElement(d.a,null,r.a.createElement(h.a,{container:!0,direction:"row-reverse",spacing:3},r.a.createElement(h.a,{item:!0,xs:12,sm:12,md:4},r.a.createElement(p.a,{className:J.nominations},r.a.createElement(d.a,{p:2},r.a.createElement("h3",null,r.a.createElement("span",{role:"img","aria-label":"throphy"},"\ud83c\udfc6")," ","Nominee (",5-Object.keys(B).length," Remaining)"),r.a.createElement(L,{nominations:B,removeNomination:function(e){var a=Object(c.a)({},B);delete a[e],M(a)},handleResetNominations:function(){M({})},clearSearch:function(){i("")}})))),r.a.createElement(h.a,{item:!0,xs:12,sm:12,md:8},r.a.createElement(p.a,null,r.a.createElement(d.a,{p:2},r.a.createElement(w,{onChange:function(e){var a=e.target.value;i(a),H(a)},value:t}),r.a.createElement(ae,{searchKey:t,isError:D,error:z,numResult:y,addNomination:function(e){var a=E[e];M(Object(c.a)(Object(c.a)({},B),{},Object(l.a)({},e,a)))},movieData:E,nominations:B,page:S,handlePageChange:function(e,a){k(a),K(t,a)}}))))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[87,1,2]]]);
//# sourceMappingURL=main.f2493d07.chunk.js.map