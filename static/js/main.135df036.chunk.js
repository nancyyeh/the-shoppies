(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],{86:function(e,a,t){e.exports=t(99)},91:function(e,a,t){},92:function(e,a,t){},99:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(9),i=t.n(r),o=(t(91),t(29)),c=t(56),s=t(14),m=(t(92),t(138)),u=t(140),p=t(163),E=t(142),d=t(68),b=t.n(d),f=Object(m.a)((function(e){return{root:{padding:"2px 4px",display:"flex",alignItems:"center"},input:{marginLeft:e.spacing(1),flex:1},iconButton:{padding:10}}}));function g(e){var a=e.value,t=e.onChange,n=f();return l.a.createElement(u.a,{component:"form",className:n.root},l.a.createElement(E.a,{type:"submit",className:n.iconButton,"aria-label":"search"},l.a.createElement(b.a,null)),l.a.createElement(p.a,{className:n.input,placeholder:"Search Movies",type:"text",value:a,onChange:t}))}var h=t(70),v=t.n(h),O=t(149),y=t(156),j=t(161),k=t(148),C=t(144),S=t(145),N=t(143);function w(e){var a=e.isOpen,t=e.onClose,r=e.onApiChange,i=e.value,o=Object(n.useState)(i),c=Object(s.a)(o,2),m=c[0],u=c[1],p=function(){t()};return l.a.createElement("div",null,l.a.createElement(j.a,{open:a,onClose:p,"aria-labelledby":"form-dialog-title"},l.a.createElement(N.a,{id:"form-dialog-title"},"Set API Key"),l.a.createElement(C.a,null,l.a.createElement(S.a,null,"To use this Shoppies application, please insert the OMDB api key."),l.a.createElement(y.a,{autoFocus:!0,margin:"dense",id:"name",label:"API Key",type:"text",value:m,onChange:function(e){return u(e.target.value)},fullWidth:!0})),l.a.createElement(k.a,null,l.a.createElement(O.a,{onClick:p,color:"primary"},"Cancel"),l.a.createElement(O.a,{onClick:function(){t(),r(m)},color:"primary"},"Update"))))}function x(e){var a=e.apikey,t=e.onApiChange,r=Object(n.useState)(!1),i=Object(s.a)(r,2),c=i[0],u=i[1],p=function(){u(!0)};Object(n.useEffect)((function(){""===a&&u(!0)}),[a]);var d=Object(m.a)((function(e){return{sectionDesktop:Object(o.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(o.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}}))();return l.a.createElement(l.a.Fragment,null,l.a.createElement(O.a,{className:d.sectionDesktop,variant:"contained",color:"primary",onClick:p,"aria-label":"api settings desktop"},"Set API Key"),l.a.createElement(E.a,{className:d.sectionMobile,onClick:p,color:"primary","aria-label":"api settings mobile"},l.a.createElement(v.a,null)),l.a.createElement(w,{isOpen:c,onClose:function(){u(!1)},value:a,onApiChange:t}))}var I=t(147),D=t(150),A=t(151),P=t(152),R=t(153),F=t(55),T=t.n(F),M=t(71),B=t.n(M),K=t(164);function J(e){var a=e.nominations,t=e.removeNomination;return 0===Object.keys(a).length?l.a.createElement("div",null,l.a.createElement("p",null,"Add something to the nomination list... ",l.a.createElement("br",null))):l.a.createElement("div",null,l.a.createElement(I.a,{dense:!0},Object.values(a).map((function(e){return l.a.createElement(D.a,{key:e.imdbID},l.a.createElement(A.a,null,l.a.createElement(K.a,null,"N/A"===e.Poster?l.a.createElement(T.a,null):l.a.createElement("img",{src:e.Poster,alt:"movie poster",width:"100%"}))),l.a.createElement(P.a,{primary:e.Title,secondary:e.Year}),l.a.createElement(R.a,null,l.a.createElement(E.a,{edge:"end","aria-label":"remove",onClick:function(){return t(e.imdbID)}},l.a.createElement(B.a,null))))}))))}var W=t(157),Y=t(72),H=t.n(Y),L=t(158),U=Object(m.a)((function(e){return{pagination:{display:"flex",justifyContent:"center"}}}));function z(e){var a=e.searchKey,t=e.isError,n=e.error,r=e.numResult,i=e.addNomination,o=e.movieData,c=e.nominations,s=e.page,m=e.handlePageChange,u=e.isFiveNominations,p=U();return a.length<3?l.a.createElement("div",null,l.a.createElement("h3",null,l.a.createElement("span",{role:"img","aria-label":"find"},"\ud83d\udd0d")," ","Find a movie in the search bar!"),l.a.createElement("p",null,"The keyword needs to be longer than 2 characters")):!0===t?l.a.createElement(W.a,null,l.a.createElement("h3",null,l.a.createElement("span",{role:"img","aria-label":"film"},"\ud83c\udf9e\ufe0f")," ",'Results for "',a,'" (',0,")"),l.a.createElement("p",null,l.a.createElement("span",{role:"img","aria-label":"confused"},"\ud83d\ude35")," ","Uh no... ",n)):l.a.createElement("div",null,l.a.createElement("h3",null,l.a.createElement("span",{role:"img","aria-label":"film"},"\ud83c\udf9e\ufe0f")," ",'Results for "',a,'" (',r,")"),l.a.createElement("div",null,l.a.createElement(I.a,{dense:!0},Object.values(o).map((function(e){var a=void 0!==c[e.imdbID];return l.a.createElement(D.a,{key:e.imdbID},l.a.createElement(A.a,null,l.a.createElement(K.a,null,"N/A"===e.Poster?l.a.createElement(T.a,null):l.a.createElement("img",{src:e.Poster,alt:"movie poster",width:"100%"}))),l.a.createElement(P.a,{primary:e.Title,secondary:e.Year}),l.a.createElement(R.a,null,l.a.createElement(E.a,{edge:"end","aria-label":"add",onClick:function(){return i(e.imdbID)},disabled:a||u,color:"primary"},l.a.createElement(H.a,null))))})))),l.a.createElement(L.a,{page:s,onChange:m,count:Math.ceil(r/10),className:p.pagination}))}var G=t(162),$=t(160),_=t(154);function q(e){var a=e.isFiveNominations,t=l.a.useState(!1),r=Object(s.a)(t,2),i=r[0],o=r[1];Object(n.useEffect)((function(){o(!!a)}),[a]);var c=function(e,a){"clickaway"!==a&&o(!1)};return l.a.createElement("div",null,l.a.createElement(G.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:i,autoHideDuration:6e3,onClose:c,TransitionComponent:function(e){return l.a.createElement(_.a,Object.assign({},e,{direction:"down"}))}},l.a.createElement($.a,{onClose:c,severity:"success",variant:"filled"},"You have nominated 5 movies!")))}var Q=t(155),V=t(73),X=t.n(V);var Z=function(){var e=Object(n.useState)(""),a=Object(s.a)(e,2),t=a[0],r=a[1],i=Object(n.useState)([]),m=Object(s.a)(i,2),p=m[0],E=m[1],d=Object(n.useState)(0),b=Object(s.a)(d,2),f=b[0],h=b[1],v=Object(n.useState)(1),y=Object(s.a)(v,2),j=y[0],k=y[1],C=Object(n.useState)(!0),S=Object(s.a)(C,2),N=S[0],w=S[1],I=Object(n.useState)(null),D=Object(s.a)(I,2),A=D[0],P=D[1],R=Object(n.useState)(JSON.parse(localStorage.getItem("nominations")||"{}")),F=Object(s.a)(R,2),T=F[0],M=F[1],B=Object(n.useState)(!1),K=Object(s.a)(B,2),Y=K[0],H=K[1],L=Object(n.useState)(localStorage.getItem("apikey")||"cbf06e88"),U=Object(s.a)(L,2),G=U[0],$=U[1],_=function(e){M(e),localStorage.setItem("nominations",JSON.stringify(e))},V=Object(n.useCallback)(X.a.debounce((function(e){return Z(e)}),300),[]),Z=function(e,a){var t="https://www.omdbapi.com/?apikey="+G+"&s="+e.trim()+"&page="+a+"&type=movie";e.length>2&&fetch(t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){if("True"===e.Response){h(e.totalResults);var a={};e.Search.forEach((function(e){a[e.imdbID]=e})),E(a),w(!1)}else P(e.Error),w(!0)}),(function(e){w(!0),P(e)}))};return Object(n.useEffect)((function(){Z(t,j)}),[G]),Object(n.useEffect)((function(){5===Object.keys(T).length?H(!0):H(!1)}),[T]),l.a.createElement(W.a,{className:"App",display:"flex",flexDirection:"column",justifyContent:"flex-start",p:3},l.a.createElement(W.a,{p:2,className:"Header"},l.a.createElement("img",{src:"shoppies_logo.png",alt:"shoppies logo",width:"70%"})),l.a.createElement(W.a,{m:2,className:"API-settings",position:"absolute",top:18,right:18},l.a.createElement(x,{apikey:G,onApiChange:function(e){$(e),localStorage.setItem("apikey",e)}})),l.a.createElement(W.a,{p:1},l.a.createElement(Q.a,{container:!0,spacing:3},l.a.createElement(Q.a,{item:!0,xs:12},l.a.createElement(u.a,null,l.a.createElement(g,{onChange:function(e){r(e.target.value),V(e.target.value)},value:t}))),l.a.createElement(Q.a,{item:!0,xs:12,sm:6},l.a.createElement(u.a,null,l.a.createElement(W.a,{p:1},l.a.createElement(z,{searchKey:t,isError:N,error:A,numResult:f,addNomination:function(e){if(Object.keys(T).length<5){var a=p[e];_(Object(c.a)(Object(c.a)({},T),{},Object(o.a)({},e,a)))}},movieData:p,nominations:T,page:j,handlePageChange:function(e,a){k(a),Z(t,a)},isFiveNominations:Y})))),l.a.createElement(Q.a,{item:!0,xs:12,sm:6},l.a.createElement(u.a,null,l.a.createElement(W.a,{p:1},l.a.createElement("h3",null,l.a.createElement("span",{role:"img","aria-label":"throphy"},"\ud83c\udfc6")," ","Nominations List (",5-Object.keys(T).length," ","Remaining)"),l.a.createElement(J,{nominations:T,removeNomination:function(e){var a=Object(c.a)({},T);delete a[e],_(a)}}),Y&&l.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(){_({})},"aria-label":"reset nominations"},"Restart")))))),l.a.createElement(q,{isFiveNominations:Y}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[86,1,2]]]);
//# sourceMappingURL=main.135df036.chunk.js.map